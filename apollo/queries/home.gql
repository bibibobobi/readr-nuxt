query homePageOnServer {
  editorChoices: allEditorChoices(
    sortBy: [sortOrder_ASC, publishTime_DESC]
    first: 5
    where: { state: published }
  ) {
    id
    title: name
    link
    heroImage {
      urlTabletSized
    }
  }

  latestPosts: allPosts(
    first: 5
    where: { state: published, style_in: [news, report] }
    sortBy: [publishTime_DESC]
  ) {
    id
    slug
    title: name
    style
    heroImage {
      urlTabletSized
    }
    ogImage {
      urlTabletSized
    }
    publishTime
  }
}

query databaseList($skip: Int, $shouldQueryMeta: Boolean! = false) {
  items: allDatas(
    sortBy: [publishTime_DESC]
    first: 3
    skip: $skip
    where: { state: published }
  ) {
    id
    title: name
    link
    relatedGallery(sortBy: [createdAt_DESC], first: 3) {
      id
      link
      writers {
        id
        name
      }
      heroImage {
        urlTinySized
      }
    }
  }

  meta: _allDatasMeta @include(if: $shouldQueryMeta) {
    count
  }
}

query quotes {
  quotes: allQuotes(
    first: 10
    where: { state: published }
    sortBy: [publishTime_DESC]
  ) {
    id
    title: name
    byline
  }
}

query collaborations {
  collaborations: allCollaborations(
    sortBy: [publishTime_DESC]
    first: 10
    where: { state: published }
  ) {
    id
    title: name
    description
    heroImage {
      urlMobileSized
    }
    progress
    collabLink
    achvLink
    requireTime
    endTime
  }
}

query categories {
  categories: allCategories(
    first: 6
    where: { state: active }
    sortBy: [createdAt_ASC]
  ) {
    slug
    name
  }
}

query categoryPosts($categorySlug: String!) {
  items: allPosts(
    first: 3
    where: { categories_some: { slug: $categorySlug } }
    sortBy: [publishTime_DESC]
  ) {
    id
    title: name
    style
    heroImage {
      urlMobileSized
    }
    ogImage {
      urlMobileSized
    }
    publishTime
  }
}
