query latestPosts(
  $first: Int! = 3
  $skip: Int
  $shouldQueryMeta: Boolean! = false
) {
  items: allPosts(
    first: $first
    skip: $skip
    where: { state: published, style_in: [news, report] }
    sortBy: [publishTime_DESC]
  ) {
    id
    slug
    name
    style
    heroImage {
      urlTabletSized
    }
    ogImage {
      urlTabletSized
    }
    publishTime
  }

  meta: _allPostsMeta @include(if: $shouldQueryMeta) {
    count
  }
}

query latestPostsInErrorPage {
  items: allPosts(
    first: 4
    where: { state: published, style_in: [news, report] }
    sortBy: [publishTime_DESC]
  ) {
    id
    slug
    name
    style
    heroImage {
      urlMobileSized
    }
    ogImage {
      urlMobileSized
    }
  }
}

query categoryPosts($first: Int! = 3, $categorySlug: String!) {
  items: allPosts(
    first: $first
    where: { categories_some: { slug: $categorySlug } }
    sortBy: [publishTime_DESC]
  ) {
    id
    name
    style
    heroImage {
      urlMobileSized
    }
    ogImage {
      urlMobileSized
    }
    publishTime
  }
}
